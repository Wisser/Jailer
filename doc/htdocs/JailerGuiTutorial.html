<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Open Jail. The Jailer Project Web Site.</title>
  <link href="styles.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Open Jail <small><small style="font-style: italic;">The Jailer
Project Web Site</small></small>
<hr style="width: 100%; height: 1px;"></h1>
<table border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td valign="top">
      <table border="1" bordercolor="#dddddd" cellpadding="14"
 cellspacing="0" width="140">
        <tbody>
          <tr>
            <td width="106">
            <p><a href="index.html">Introduction</a><br>
Tutorial<br>
            <table>
              <tbody>
                <tr>
                  <td>&nbsp;&nbsp; </td>
                  <td><a
 href="file:///home/wisser/sf_workspace/trunk/doc/htdocs/JailerGuiTutorial.html">GUI</a><a
 href="JailerTutorial.html"><br>
CLI</a><a href="files.html"> </a> </td>
                </tr>
              </tbody>
            </table>
            <a>Documentation</a>
            <table>
              <tbody>
                <tr>
                  <td>&nbsp;&nbsp; </td>
                  <td><a href="terms.html">Terms</a> <a
 href="architecture.html"><br>
Architecture</a><br>
                  <a href="design.html">Design</a><br>
                  <a href="files.html">File Formats</a> </td>
                </tr>
              </tbody>
            </table>
            <a href="domainmodel.html">Addendum</a><br>
            <a
 href="http://sourceforge.net/project/showfiles.php?group_id=197260">Download</a><br>
            <a href="http://sourceforge.net/projects/jailer/">Homepage</a><br>
            </p>
            <a href="http://sourceforge.net/projects/jailer/"><img
 src="http://sflogo.sourceforge.net/sflogo.php?group_id=197260&amp;type=1"
 alt="SourceForge.net Logo" style="border: 0px solid ;"></a> </td>
          </tr>
        </tbody>
      </table>
      </td>
      <td valign="top" width="0%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
      <td valign="top" width="100%">
      <h2>Tutorial<small> (using Graphical User Interface)</small><br>
      </h2>
      <h3>Prerequisites</h3>
      <ul>
        <li>Java JRE 1.5 or above</li>
        <li>R-DBMS with JDBC-driver<br>
        </li>
        <li>jailer_1.0.zip</li>
      </ul>
Note that the GUI currently doesn't make all Jailer-features available.
It's mainly intended to help you to get started with Jailer.<br>
      <br>
      <h3>Step 1. Setup Jailer</h3>
Unpack jailer.zip:<br>
      <br>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="background-color: rgb(230, 255, 230); vertical-align: top;"><span
 style="font-family: monospace;">$unzip jailer.zip<br>
$cd jailer<br style="font-family: monospace;">
            </span> <span style="font-family: monospace;">$ll</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 3
wisser users&nbsp; 136 2007-06-01 10:12 jailer.sh</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">-rw-r--r--&nbsp; 1
wisser users 1175 2007-06-01 10:10 build.xml</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 3
wisser users&nbsp; 136 2007-06-01 10:10 config</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 3
wisser users&nbsp; 344 2007-06-01 10:10 datamodel</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 3
wisser users&nbsp; 184 2007-06-01 10:10 example</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 3
wisser users&nbsp; 160 2007-06-01 10:10 extractionmodel</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 3
wisser users&nbsp; 272 2007-06-01 10:11 lib</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 3
wisser users&nbsp; 112 2007-06-01 10:10 restrictionmodel</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 4
wisser users&nbsp; 160 2007-06-01 10:10 script</span><br
 style="font-family: monospace;">
            <span style="font-family: monospace;">drwxr-xr-x&nbsp; 4
wisser users&nbsp;&nbsp; 96 2007-06-01 10:10 src</span><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      <br>
Start the GUI (on Windows start <span style="font-family: monospace;">jailerGUI.bat):</span><br>
      <br>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="background-color: rgb(230, 255, 230); vertical-align: top;"><span
 style="font-family: monospace;">$ sh jailerGUI.sh</span><span
 style="font-family: monospace;"></span><br>
            </td>
          </tr>
        </tbody>
      </table>
      <span style="font-family: monospace;"></span><br>
      <img alt="" src="sc_21.png" style="width: 510px; height: 243px;"><br>
      <br>
Select the the JDBC-Driver jar-file and click<span
 style="font-style: italic;"> "Ok"</span>. The main window appears then:<br>
      <br>
      <img alt="" src="sxr_1.png" style="width: 520px; height: 231px;"><br>
      <h3><br>
Step 2. Setup the Database</h3>
Create a new schema and execute <a href="scott-tiger.sql.html"><img
 alt="" src="arrow.gif"
 style="border: 0px solid ; width: 13px; height: 13px;" hspace="4"><big><span
 style="font-family: monospace;">script/scott-tiger.sql</span></big></a>.
Make sure that the script runs successfully.<br>
      <br>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="background-color: rgb(230, 255, 230); vertical-align: top;"><span
 style="font-family: monospace;">$db2 connect to wisser </span><span
 style="font-family: monospace;">user scott </span><span
 style="font-family: monospace;">using tiger<span
 style="font-family: mon;"><span style="font-style: italic;"></span></span></span><span
 style="font-family: monospace;"><span
 style="font-style: italic; color: rgb(51, 51, 255);"></span></span><br>
            <span style="font-family: monospace;">$db2 -tvf
script/scott-tiger.sql<br>
            </span><span style="font-family: monospace;"></span></td>
          </tr>
        </tbody>
      </table>
      <br>
      <h3>Step 3. Building the data model</h3>
Jailer needs to know all the tables and all associations between them,
so
we must tell him. Tables are defined in <big><span
 style="font-family: monospace;">datamodel/table.csv</span><small>,</small></big><small>
      </small>associations in <big><span
 style="font-family: monospace;">datamodel/association.csv</span>.</big><br>
      <br>
Fortunately most of the model definitions can be generated
automatically from introspection of the relational database.<br>
      <br>
Enter the DB-URL, the user and password and click on "Build Datamodel":<br>
      <br>
      <img alt="" src="scr_2.png" style="width: 520px; height: 231px;"><br>
      <br>
Jailer found three tables and two associations:<br>
      <br>
      <img alt="" src="sc_4.png" style="width: 933px; height: 337px;"><br>
      <br>
"Accept" the newly found elements, click on <span
 style="font-style: italic;">"Accept All"</span> to move the content of
the <span style="font-family: monospace;">model-builder-*</span> files
to <span style="font-family: monospace;">table.csv</span> and <span
 style="font-family: monospace;">association.csv:</span><br>
      <br>
      <br>
      <img alt="" src="sc_5.png" style="width: 933px; height: 337px;"><br>
      <br>
Close the window.<br>
      <br>
One association is still missing: depending on his salary an employee
is classified into a salary grade. <br>
Add this definition manually (by using a text editor, there is no
GUI-support for that right now).<br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;">datamodel/association.csv</span>
            </span><span style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"># Table A;&nbsp;&nbsp;&nbsp; Table
B;&nbsp; first-insert; cardinality (opt); join-condition; name (opt);
author<br>
DEPARTMENT; EMPLOYEE; A; 1:n; A.DEPTNO=B.DEPTNO;&nbsp;&nbsp; ; IBM DB2
JDBC Driver;<br>
EMPLOYEE;&nbsp;&nbsp; EMPLOYEE; A; 1:n; A.EMPNO=B.BOSS;&nbsp; &nbsp;
&nbsp; ; IBM DB2 JDBC Driver;<br>
            <span style="color: rgb(153, 0, 0);">EMPLOYEE;&nbsp;&nbsp;
SALARYGRADE; ; n:1; A.SALARY BETWEEN B.LOSAL AND B.HISAL; ; Wisser</span><br>
            </span></td>
          </tr>
        </tbody>
      </table>
      <br>
Note that Jailer now knows more about the data model than the DBMS.<br>
      <br>
      <br>
      <table>
        <tbody>
          <tr>
            <td>
            <h3>Step 4.&nbsp; Examine the data model</h3>
            </td>
            <td style="vertical-align: top;"><small><a href="#footnote">1</a></small></td>
          </tr>
        </tbody>
      </table>
Let's see what Jailer knows now about the model. Select the <span
 style="font-style: italic;">"Print Model"</span> tab and click on <span
 style="font-style: italic;">"Print Datamodel"</span>:<br>
      <br>
      <img alt="" src="sc_6.png" style="width: 500px; height: 189px;"><br>
      <br>
      <img alt="" src="sc_7.png" style="width: 683px; height: 516px;"><br>
      <br>
Note that each association is listed twice. While associations are
undirected, restrictions on them are directed. We will see later for
what restrictions are good for and how to define them.<br>
      <br>
      <h3>Step 5. Prepare the DB for exports</h3>
Jailer uses some tables for collecting entities inside the data base.
The structure of these tables depends on the data-model, so we have to
create the tables after building the data-model files. (You can easily
re-create the tables after any model-changes)<br>
      <br>
Select the<span style="font-style: italic;">"Create DDL"</span> tab and
click on<span style="font-style: italic;"> "Create DDL"</span> button.
Copy the DDL-Statements and execute them using an appropriate DB-tool:<br>
      <br>
      <img alt="" src="sc_8.png" style="width: 402px; height: 130px;"><br>
      <br>
      <img alt="" src="sc_9.png" style="width: 680px; height: 820px;"><br>
      <h3><br>
Step 6. Export evil Scott (unrestricted)</h3>
Now export the employee named Scott. To do that we need an <span
 style="font-style: italic;">extraction-model</span>. Create a file
named <big><span style="font-family: monospace;">extractionmodel/scott.csv</span></big>.
(Also no GUI support for that).<br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;">extractionmodel/scott.csv</span>
            </span><span style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"># the employee named 'SCOTT' and all
associated entities<br>
            <br>
# subject;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
condition;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
limit;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restrictions<br>
EMPLOYEE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NAME='SCOTT';&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;<br>
            </span></td>
          </tr>
        </tbody>
      </table>
      <br>
      <br>
This extraction model describes a set of entities containing (the)
employee(s)
named 'SCOTT', entities associated with these employees, entities
associated with these entities and so forth.<br>
      <br>
Export this set:<br>
      <br>
      <img alt="" src="sc_13.png" style="width: 499px; height: 324px;"><br>
      <br>
      <img alt="" src="sc_11.png" style="width: 540px; height: 198px;"><br>
      <br>
Open <span style="font-family: monospace;">Export.log</span>:<br>
      <br>
      <img alt="" src="sc_12.png" style="width: 752px; height: 205px;"><br>
      <br>
      <br>
A file <a href="scott.sql.html"><img alt="" src="arrow.gif"
 style="border: 0px solid ; width: 13px; height: 13px;" hspace="4"><big><span
 style="font-family: monospace;">scott.sql</span></big></a> is created
containing <big><span style="font-family: monospace;">Insert</span></big>-statements
for Scott, for his evil boss, for the president and for scott's
department and salary-grade.<br>
      <br>
But why are there also statements for all other employees? (Bad luck
for innocent James!)<br>
      <br>
Let Jailer explain why:<br>
      <br>
      <img alt="" src="sc_14.png" style="width: 499px; height: 324px;"><br>
      <br>
      <img alt="" src="sc_15.png" style="width: 522px; height: 222px;"><br>
      <br>
Open the <span style="font-family: monospace;">Explain.log</span>:<br>
      <br>
      <img alt="" src="sc_16.png" style="width: 812px; height: 345px;"><br>
      <br>
Adams is Scotts subordinate and James and Adams are both
classified in the same salary-grade.<br>
      <br>
      <h3>Step 7. Export evil Scott (restricted)</h3>
If we export an employee we must export his boss and department too!
Otherwise the set of exported entities would not be consistent (due to
the foreign key constraints). No constraint prevents us from excluding
the salary-grade from export, but we should'nt do that becauses the
resulting set would
also be inconsistent.<br>
      <br>
To exclude subordinates, 'same department'-members and 'same
salary-grade'-employees, we must restrict some associations. To do so,
define a <span style="font-style: italic;">restriction-model: </span>(with
text-editor, no GUI support)<br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;">restrictionmodel/no-subordinates.csv</span>
            </span><span style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"># from A (or association name); to
B;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restriction-condition<br>
SUBORDINATE;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ignore<br>
DEPARTMENT;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE;&nbsp;&nbsp; ignore<br>
SALARYGRADE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE;&nbsp;&nbsp; ignore<br>
            </span></td>
          </tr>
        </tbody>
      </table>
      <br>
      <br>
The <span style="font-style: italic;">restriction-condition</span> is
an extension of the associations join-condition (expressed in
SQL-syntax) for one direction of an association. <br>
"ignore" stands for an unsatisfiable condition.<br>
      <br>
Note that the association between DEPARTMENT and EMPLOYEE is restricted
in that direction by designating the source and destination table. It's
obviously not possible to restrict reflexive associations the same way,
so we have to give the <span style="font-style: italic;">'subordinate
of</span>'-association a name.<br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;">datamodel/association.csv</span>
            </span><span style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"># Table A;&nbsp;&nbsp;&nbsp; Table
B;&nbsp; first-insert; cardinality (opt); join-condition; name (opt);
author<br>
DEPARTMENT; EMPLOYEE; A; 1:n; A.DEPTNO=B.DEPTNO;&nbsp;&nbsp; ; IBM DB2
JDBC Driver;<br>
EMPLOYEE;&nbsp;&nbsp; EMPLOYEE; A; 1:n; A.EMPNO=B.BOSS; </span><span
 style="font-family: monospace; color: rgb(255, 0, 0);">SUBORDINATE</span><span
 style="font-family: monospace;">; IBM DB2 JDBC Driver;<br>
            <span style="color: rgb(0, 0, 0);">EMPLOYEE;&nbsp;&nbsp;
SALARYGRADE; ; n:1; A.SALARY BETWEEN B.LOSAL AND B.HISAL; ; Wisser</span><br>
            </span></td>
          </tr>
        </tbody>
      </table>
      <br>
      <br>
You can examine the restrictions the same way you examined the data
model:<br>
      <br>
      <img alt="" src="sc_17.png" style="width: 449px; height: 192px;"><br>
      <br>
      <img alt="" src="sc_20.png" style="width: 632px; height: 526px;"><br>
      <br>
A restriction-model is part of the extraction-model. Create a new
extraction-model:<br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;">extractionmodel/scott-without-subordinates.csv</span>
            </span><span style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"># the employee named 'SCOTT' and all
associated entities<br>
            <br>
# subject;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
condition;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
limit;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restrictions<br>
EMPLOYEE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NAME='SCOTT';&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
 style="font-family: monospace; color: rgb(255, 0, 0);">no-subordinates.csv</span></td>
          </tr>
        </tbody>
      </table>
      <br>
      <span style="font-style: italic;">Choose extraction model </span><span
 style="font-family: monospace;">scott-without-subordinates.csv,</span><span
 style="font-style: italic;"> "Export"</span> again and look what
Jailer extracts now:<br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;"><span
 style="font-family: monospace;">scott.sql </span></span></span><span
 style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;">-- generated
by Jailer at Mon Jun 04 15:08:15 CEST 2007 from wisser@u19<br>
--<br>
-- extraction model:&nbsp; EMPLOYEE where NAME='SCOTT'
(extractionmodel/scott-without-subordinates.csv)<br>
-- database URL:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jdbc:db2://localhost:50001/wisser<br>
-- database user:&nbsp;&nbsp;&nbsp;&nbsp; scott<br>
-- exported entities: 7<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
DEPARTMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
SALARYGRADE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2<br>
            <br>
            <br>
            <br>
Insert into SALARYGRADE(GRADE, LOSAL, HISAL) <br>
&nbsp; values (4, 2001, 3000), <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (5, 3001, 9999);<br>
Insert into DEPARTMENT(DEPTNO, NAME, LOCATION) <br>
&nbsp; values (20, 'RESEARCH', 'DALLAS'), <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (10, 'ACCOUNTING',
'NEW YORK');<br>
Insert into EMPLOYEE(EMPNO, NAME, JOB, BOSS, HIREDATE, SALARY, COMM,
DEPTNO) <br>
&nbsp; values (7839, 'KING', 'PRESIDENT', null, '1981-11-17', 5000.00,
null, 10);<br>
Insert into EMPLOYEE(EMPNO, NAME, JOB, BOSS, HIREDATE, SALARY, COMM,
DEPTNO) <br>
&nbsp; values (7566, 'JONES', 'MANAGER', 7839, '1981-04-02', 2975.00,
null, 20);<br>
Insert into EMPLOYEE(EMPNO, NAME, JOB, BOSS, HIREDATE, SALARY, COMM,
DEPTNO) <br>
&nbsp; values (7788, 'SCOTT', 'ANALYST', 7566, '1982-12-09', 3000.00,
null, 20);</span><span
 style="font-family: monospace; color: rgb(255, 0, 0);"></span></td>
          </tr>
        </tbody>
      </table>
      <br>
Freedom for the innocent!<br>
      <br>
      <h3>Step 8. Delete Scott (unsuccessful)</h3>
It is also possible to create DML-scripts for deletion of exported
entities:<br>
      <br>
      <img alt="" src="sc_19.png" style="width: 490px; height: 322px;"><br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;"><span
 style="font-family: monospace;">delete-scott.sql </span></span></span><span
 style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"></span><span
 style="font-family: monospace; color: rgb(255, 0, 0);"></span><span
 style="font-family: monospace;">-- generated by Jailer at Tue Jun 05
10:20:40 CEST 2007 from wisser@u19<br>
--<br>
-- extraction model:&nbsp; EMPLOYEE where NAME='SCOTT'
(extractionmodel/scott-without-subordinates.csv)<br>
-- database URL:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jdbc:db2://localhost:50001/wisser<br>
-- database user:&nbsp;&nbsp;&nbsp;&nbsp; scott<br>
-- exported entities: 7<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
DEPARTMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
SALARYGRADE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2<br>
--<br>
-- Tabu-tables:&nbsp; {&nbsp; }<br>
--<br>
-- entities to delete: 0<br>
            </span></td>
          </tr>
        </tbody>
      </table>
      <br>
Jailer has exported 7 entities but didn't delete anything! That's
because deleting Scott but not Scotts subordinate (who is not in the
set defined by the extraction-model!) would violate the integrity of
the data base.<br>
      <br>
      <h3>Step 9. Delete Scott</h3>
      <p>In order to delete Scott, me must delete his subordinate too.
To do so, relax the restriction on the <span
 style="font-style: italic;">SUBORDINATE</span>-association:</p>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;">restrictionmodel/no-subordinates.csv</span>
            </span><span style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"># from A (or association name); to
B;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; restriction-condition<br>
SUBORDINATE;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
 style="color: rgb(204, 0, 0);">A.NAME='SCOTT'</span><br>
DEPARTMENT;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE;&nbsp;&nbsp; ignore<br>
SALARYGRADE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE;&nbsp;&nbsp; ignore<br>
            </span></td>
          </tr>
        </tbody>
      </table>
      <br>
and <span style="font-style: italic;">"Export"</span> again:<br>
      <br>
      <table
 style="background-color: rgb(51, 102, 255); text-align: left;"
 border="0" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td
 style="height: 24px; background-color: rgb(202, 225, 235); vertical-align: top;"><big><span
 style="font-family: monospace;"><span style="font-weight: bold;"><span
 style="font-family: monospace;">delete-scott.sql </span></span></span><span
 style="font-family: monospace;"></span></big><br>
            </td>
          </tr>
        </tbody>
      </table>
      <table style="width: 100%; text-align: left;" border="0"
 cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td colspan="2" rowspan="1"
 style="background-color: rgb(202, 225, 235); vertical-align: top;"><span
 style="font-family: monospace;"></span><span
 style="font-family: monospace; color: rgb(255, 0, 0);"></span><span
 style="font-family: monospace;">-- generated by Jailer at Tue Jun 05
10:50:03 CEST 2007 from wisser@u19<br>
--<br>
-- extraction model:&nbsp; EMPLOYEE where NAME='SCOTT'
(extractionmodel/scott-without-subordinates.csv)<br>
-- database URL:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jdbc:db2://localhost:50001/wisser<br>
-- database user:&nbsp;&nbsp;&nbsp;&nbsp; scott<br>
-- exported entities: 9<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
DEPARTMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
4<br>
--&nbsp;&nbsp;&nbsp;&nbsp;
SALARYGRADE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3<br>
--<br>
-- Tabu-tables:&nbsp; {&nbsp; }<br>
--<br>
-- entities to delete: 2<br>
--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
EMPLOYEE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2 (-2)<br>
            <br>
            <br>
            <br>
Delete from EMPLOYEE Where EMPNO in (7876);<br>
Delete from EMPLOYEE Where EMPNO in (7788);</span><span
 style="font-family: monospace;"> </span></td>
          </tr>
        </tbody>
      </table>
      <br>
The file <big><span style="font-family: monospace;">delete-scott.sql</span></big>
contains <big><span style="font-family: monospace;">Delete</span></big>-statements
for Scott and Adams.<br>
Note that <big><span style="font-family: monospace;">scott.sql</span></big>
now contains <big><span style="font-family: monospace;">Insert</span></big>-statements
for Adams and his salary-grade too.<br>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<hr style="width: 100%; height: 1px;">
<a name="footnote"></a>1) Since 0.9.3 it is also possible to render the
data model as HTML. Click<a href="render/index.html"><img alt=""
 src="arrow.gif" style="border: 0px solid ; width: 13px; height: 13px;"
 hspace="4">here</a> to see how the
tutorial's model would look like in HTML.<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</body>
</html>
