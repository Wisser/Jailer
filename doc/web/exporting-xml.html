<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Jailer</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="description" content="Data Export Tool">
  <link rel="shortcut icon" href="favicon.ico">
  <meta name="keywords"
 content="data export referential integrity java jdbc dbms">
  <link rel="stylesheet" type="text/css"
 href="exporting-data-Dateien/styles.css">
</head>
<body left-margin="0" top-margin="0">
<div align="left">
<table
 style="text-align: left; position: absolute; left: 0pt; top: 0pt;"
 border="0" cellpadding="0" cellspacing="0" height="407" width="100%">
  <tbody>
    <tr>
      <td colspan="2" class="bannerbackground" height="33" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td><img src="exporting-data-Dateien/logo.png" hspace="10"></td>
            <td class="slogan" width="100%">Model-based&nbsp;Data&nbsp;Export</td>
            <td style="text-align: right; width: 100%;"><a
 href="http://sourceforge.net/projects/jailer/"><img
 src="http://sflogo.sourceforge.net/sflogo.php?group_id=197260&amp;type=1"
 alt="SourceForge.net Logo" style="border: 0px solid ;"></a></td>
          </tr>
        </tbody>
      </table>
      <b><font color="#ffffff">&nbsp; </font></b></td>
    </tr>
    <tr>
      <td colspan="2" class="nav1background" height="33" width="100%">&nbsp;
      <b><font color="#ffffff"><a href="home.htm" target="_self"
 class="tlink">Home</a> &nbsp;&nbsp;&nbsp; <a href="quicktour.htm"
 target="_self" class="tlink">Documentation</a> &nbsp;&nbsp;&nbsp; <a
 href="exporting-data.htm" target="_self" class="tlinkA">Tutorial</a>
&nbsp;&nbsp;&nbsp; <a
 href="http://sourceforge.net/forum/?group_id=197260" target="_self"
 class="tlink">Forum</a>
&nbsp;&nbsp;&nbsp; <a
 href="http://sourceforge.net/project/showfiles.php?group_id=197260"
 target="_self" class="tlink">Download</a>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</font></b></td>
    </tr>
    <tr>
      <td colspan="2" class="spacer" width="100%"> <br>
      </td>
    </tr>
    <tr>
      <td class="lmenucontainer" height="100%" valign="top" width="14%">
      <div align="center">
      <center>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td width="100%"><br>
            </td>
          </tr>
        </tbody>
      </table>
      </center>
      </div>
      <ul>
        <li><a href="exporting-data.htm" target="_self" class="llink">Exporting
Data</a></li>
        <li><a href="exporting-xml.html" target="_self" class="llinkA">Defining
the <br>
XML structure<br>
          </a></li>
        <li><a href="deleting-data.htm" target="_self" class="llink">Deleting
Data</a></li>
      </ul>
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td class="content2background"><img
 style="width: 160px; height: 1px;" alt=""
 src="architecture-Dateien/vgradp.gif"></td>
          </tr>
        </tbody>
      </table>
      <p>&nbsp;</p>
      </td>
      <td class="contentbackground" height="418" valign="top"
 width="86%">
      <div align="right">
      <table border="0" cellpadding="0" cellspacing="0" height="542"
 width="98%">
        <tbody>
          <tr>
            <td class="contentbackground" height="21" width="100%"> <br>
            </td>
          </tr>
          <tr>
            <td class="content" height="520" valign="top" width="100%">
            <small><small>&nbsp;</small></small><br>
This tutorial shows you how to export data to XML and how to define the
structure of the XML document.<br>
            <br>
            <h4>Step 1. Switch to XML-mode.<br>
            </h4>
            <p>Load the model <big><span
 style="font-family: monospace;">scott.csv</span></big> from previous
tutorial and switch to XML mode. An additional panel named "XML
Mapping" will appear.<br>
            </p>
            <p><img alt="" src="xmlt1.gif"
 style="width: 963px; height: 587px;"><br>
            </p>
            <p><br>
            </p>
            <h4>Step 2. Export Scott to flat XML<br>
            </h4>
            <p>Export data into a file <a href="scott-1.xml"><img
 style="border: 0px solid ; width: 13px; height: 13px;"
 src="exporting-data-Dateien/arrow.gif" hspace="4"><big><span
 style="font-family: monospace;"><font size="4">scott-1.xml</font></span></big></a>.
The XML file contains a simple list of all exported rows, starting with
rows from subject table followed by all other rows in alphabetical
order of their table names.<br>
            <br>
            </p>
            <div id="vc_markup">
            <pre><span class="hl line">    1 </span><span class="hl kwa">&lt;?xml</span> version=<span
 class="hl str">"1.0"</span> encoding=<span class="hl str">"ISO-8859-15"</span>?&gt;<br><span
 class="hl line">    2 </span><span class="hl com">&lt;!--</span>
<span class="hl line">    3 </span><span class="hl com">  generated by Jailer at Sun Jun 14 13:47:16 CEST 2008 from wisser@desktop</span>
<span class="hl line">    4 </span><span class="hl com"></span><br><span
 class="hl line">    5 </span><span class="hl com">  extraction model:  EMPLOYEE where T.NAME='SCOTT' (extractionmodel/scott.csv)</span><br><span
 class="hl line">    6 </span><span class="hl com">  database URL:      jdbc:db2://localhost/wisser</span>
<span class="hl line">    7 </span><span class="hl com">  database user:     scott</span>
<span class="hl line">    8 </span><span class="hl com">  Exported Entities: 7</span>
<span class="hl line">    9 </span><span class="hl com">      DEPARTMENT                     2</span><br><span
 class="hl line">   10 </span><span class="hl com">      EMPLOYEE                       3</span>
<span class="hl line">   11 </span><span class="hl com">      SALARYGRADE                    2</span>
<span class="hl line">   12 </span><span class="hl com">--&gt;</span>
<span class="hl line">   13 </span><span class="hl kwa">&lt;entities&gt;</span><br><span
 class="hl line">   14 </span>  <span class="hl kwa">&lt;employee&gt;</span>
<span class="hl line">   15 </span>    <span class="hl kwa">&lt;empno&gt;</span><span
 class="hl num">7566</span><span class="hl kwa">&lt;/empno&gt;</span>
<span class="hl line">   16 </span>    <span class="hl kwa">&lt;name&gt;</span>JONES<span
 class="hl kwa">&lt;/name&gt;</span><br><span class="hl line">   17 </span>    <span
 class="hl kwa">&lt;job&gt;</span>MANAGER<span class="hl kwa">&lt;/job&gt;</span>
<span class="hl line">   18 </span>    <span class="hl kwa">&lt;boss&gt;</span><span
 class="hl num">7839</span><span class="hl kwa">&lt;/boss&gt;</span>
<span class="hl line">   19 </span>    <span class="hl kwa">&lt;hiredate&gt;</span><span
 class="hl num">1981</span>-<span class="hl num">04</span>-<span
 class="hl num">02</span><span class="hl kwa">&lt;/hiredate&gt;</span><br><span
 class="hl line">   20 </span>    <span class="hl kwa">&lt;salary&gt;</span><span
 class="hl num">2975.00</span><span class="hl kwa">&lt;/salary&gt;</span>
<span class="hl line">   21 </span>    <span class="hl kwa">&lt;deptno&gt;</span><span
 class="hl num">20</span><span class="hl kwa">&lt;/deptno&gt;</span>
<span class="hl line">   22 </span>  <span class="hl kwa">&lt;/employee&gt;</span><br><span
 class="hl line">   23 </span>  <span class="hl kwa">&lt;employee&gt;</span>
<span class="hl line">   24 </span>    <span class="hl kwa">&lt;empno&gt;</span><span
 class="hl num">7788</span><span class="hl kwa">&lt;/empno&gt;</span>
<span class="hl line">   25 </span>    <span class="hl kwa">&lt;name&gt;</span>SCOTT<span
 class="hl kwa">&lt;/name&gt;</span><br><span class="hl line">   26 </span>    <span
 class="hl kwa">&lt;job&gt;</span>ANALYST<span class="hl kwa">&lt;/job&gt;</span>
<span class="hl line">   27 </span>    <span class="hl kwa">&lt;boss&gt;</span><span
 class="hl num">7566</span><span class="hl kwa">&lt;/boss&gt;</span>
<span class="hl line">   28 </span>    <span class="hl kwa">&lt;hiredate&gt;</span><span
 class="hl num">1982</span>-<span class="hl num">12</span>-<span
 class="hl num">09</span><span class="hl kwa">&lt;/hiredate&gt;</span><br><span
 class="hl line">   29 </span>    <span class="hl kwa">&lt;salary&gt;</span><span
 class="hl num">3000.00</span><span class="hl kwa">&lt;/salary&gt;</span>
<span class="hl line">   30 </span>    <span class="hl kwa">&lt;deptno&gt;</span><span
 class="hl num">20</span><span class="hl kwa">&lt;/deptno&gt;</span>
<span class="hl line">   31 </span>  <span class="hl kwa">&lt;/employee&gt;</span><br><span
 class="hl line">   32 </span>  <span class="hl kwa">&lt;employee&gt;</span>
<span class="hl line">   33 </span>    <span class="hl kwa">&lt;empno&gt;</span><span
 class="hl num">7839</span><span class="hl kwa">&lt;/empno&gt;</span>
<span class="hl line">   34 </span>    <span class="hl kwa">&lt;name&gt;</span>KING<span
 class="hl kwa">&lt;/name&gt;</span><br><span class="hl line">   35 </span>    <span
 class="hl kwa">&lt;job&gt;</span>PRESIDENT<span class="hl kwa">&lt;/job&gt;</span>
<span class="hl line">   36 </span>    <span class="hl kwa">&lt;hiredate&gt;</span><span
 class="hl num">1981</span>-<span class="hl num">11</span>-<span
 class="hl num">17</span><span class="hl kwa">&lt;/hiredate&gt;</span><br><span
 class="hl line">   37 </span>    <span class="hl kwa">&lt;salary&gt;</span><span
 class="hl num">5000.00</span><span class="hl kwa">&lt;/salary&gt;</span>
<span class="hl line">   38 </span>    <span class="hl kwa">&lt;deptno&gt;</span><span
 class="hl num">10</span><span class="hl kwa">&lt;/deptno&gt;</span>
<span class="hl line">   39 </span>  <span class="hl kwa">&lt;/employee&gt;</span><br><span
 class="hl line">   40 </span>  <span class="hl kwa">&lt;department&gt;</span>
<span class="hl line">   41 </span>    <span class="hl kwa">&lt;deptno&gt;</span><span
 class="hl num">10</span><span class="hl kwa">&lt;/deptno&gt;</span>
<span class="hl line">   42 </span>    <span class="hl kwa">&lt;name&gt;</span>ACCOUNTING<span
 class="hl kwa">&lt;/name&gt;</span><br><span class="hl line">   43 </span>    <span
 class="hl kwa">&lt;location&gt;</span>NEW YORK<span class="hl kwa">&lt;/location&gt;</span>
<span class="hl line">   44 </span>  <span class="hl kwa">&lt;/department&gt;</span>
<span class="hl line">   45 </span>  <span class="hl kwa">&lt;department&gt;</span><br><span
 class="hl line">   46 </span>    <span class="hl kwa">&lt;deptno&gt;</span><span
 class="hl num">20</span><span class="hl kwa">&lt;/deptno&gt;</span>
<span class="hl line">   47 </span>    <span class="hl kwa">&lt;name&gt;</span>RESEARCH<span
 class="hl kwa">&lt;/name&gt;</span>
<span class="hl line">   48 </span>    <span class="hl kwa">&lt;location&gt;</span>DALLAS<span
 class="hl kwa">&lt;/location&gt;</span><br><span class="hl line">   49 </span>  <span
 class="hl kwa">&lt;/department&gt;</span>
<span class="hl line">   50 </span>  <span class="hl kwa">&lt;salarygrade&gt;</span>
<span class="hl line">   51 </span>    <span class="hl kwa">&lt;grade&gt;</span><span
 class="hl num">4</span><span class="hl kwa">&lt;/grade&gt;</span><br><span
 class="hl line">   52 </span>    <span class="hl kwa">&lt;losal&gt;</span><span
 class="hl num">2001</span><span class="hl kwa">&lt;/losal&gt;</span>
<span class="hl line">   53 </span>    <span class="hl kwa">&lt;hisal&gt;</span><span
 class="hl num">3000</span><span class="hl kwa">&lt;/hisal&gt;</span>
<span class="hl line">   54 </span>  <span class="hl kwa">&lt;/salarygrade&gt;</span><br><span
 class="hl line">   55 </span>  <span class="hl kwa">&lt;salarygrade&gt;</span>
<span class="hl line">   56 </span>    <span class="hl kwa">&lt;grade&gt;</span><span
 class="hl num">5</span><span class="hl kwa">&lt;/grade&gt;</span>
<span class="hl line">   57 </span>    <span class="hl kwa">&lt;losal&gt;</span><span
 class="hl num">3001</span><span class="hl kwa">&lt;/losal&gt;</span><br><span
 class="hl line">   58 </span>    <span class="hl kwa">&lt;hisal&gt;</span><span
 class="hl num">9999</span><span class="hl kwa">&lt;/hisal&gt;</span>
<span class="hl line">   59 </span>  <span class="hl kwa">&lt;/salarygrade&gt;</span>
<span class="hl line">   60 </span><span class="hl kwa">&lt;/entities&gt;</span>
            </pre>
            </div>
            <h4>Step 3. Export Scott to hierarchically structured XML</h4>
            <p>In the "XML Mapping" panel you can define the
aggregation-type for each association. If the aggregation-type an
association from table A to B is not 'none', than the XML render of
entities from table B will be embedded into the XML render of the
associated entities from table A.<br>
            </p>
            <p>Set the aggregation-type to 'implicit list' for the
associations:<br>
            </p>
            <ul>
              <li>BOSS (from EMPLOYEE to EMPLOYEE)</li>
              <li>from EMPLOYEE to DEPARTMENT</li>
              <li>from EMPLOYEE to SALARYGRADE.</li>
            </ul>
            <img alt="" src="xmlt2.gif"
 style="width: 963px; height: 587px;"><br>
            <p>Export data into a file <a href="scott-2.xml"><img
 style="border: 0px solid ; width: 13px; height: 13px;"
 src="exporting-data-Dateien/arrow.gif" hspace="4"><big><span
 style="font-family: monospace;"><font size="4">scott-2.xml</font></span></big></a>.</p>
            <p> <br>
            </p>
            </td>
          </tr>
        </tbody>
      </table>
      </div>
      <p>&nbsp; </p>
      </td>
    </tr>
    <tr>
      <td height="12" valign="top" width="14%"><br>
      </td>
      <td><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
</body>
</html>
