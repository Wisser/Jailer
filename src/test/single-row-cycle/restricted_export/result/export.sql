-- generated by Jailer, Fri Apr 03 12:00:32 CEST 2009 from wisser@u19
-- 
-- Extraction Model:  EMPLOYEE where T.NAME='SCOTT' (/data/workspace/trunk/src/test/single-row-cycle/restricted_export/extractionmodel.csv)
-- Database URL:      jdbc:postgresql://localhost:5432/postgres
-- Database User:     postgres
-- Exported Rows:     13
--     DEPARTMENT                     2
--     EMPLOYEE                       3
--     SALARYGRADE                    2
--     PROJECT_PARTICIPATION          2
--     ROLE                           2
--     PROJECT                        2
-- 



Update SALARYGRADE set losal=2001, hisal=3000 Where GRADE=4;
Update SALARYGRADE set losal=3001, hisal=9999 Where GRADE=5;
Insert into SALARYGRADE(grade, losal, hisal) Select * From (values (4, 2001, 3000), (5, 3001, 9999)) as Q(grade, losal, hisal) Where not exists (Select * from SALARYGRADE T Where T.GRADE=Q.GRADE);
Update ROLE set description='Developer' Where ROLE_ID=100;
Update ROLE set description='Project manager' Where ROLE_ID=102;
Insert into ROLE(role_id, description) Select * From (values (100, 'Developer'), (102, 'Project manager')) as Q(role_id, description) Where not exists (Select * from ROLE T Where T.ROLE_ID=Q.ROLE_ID);
Update PROJECT set description='Development of Novel Magnetic Suspension System', start_date='2006-01-01', end_date='2007-08-13' Where PROJECTNO=1001;
Update PROJECT set description='Foundation of Quantum Technology', start_date='2007-02-24', end_date='2008-07-31' Where PROJECTNO=1003;
Insert into PROJECT(projectno, description, start_date, end_date) Select * From (values (1001, 'Development of Novel Magnetic Suspension System', '2006-01-01', '2007-08-13'), (1003, 'Foundation of Quantum Technology', '2007-02-24', '2008-07-31')) as Q(projectno, description, start_date, end_date) Where not exists (Select * from PROJECT T Where T.PROJECTNO=Q.PROJECTNO);
Update DEPARTMENT set name='RESEARCH', location='DALLAS' Where DEPTNO=20;
Update DEPARTMENT set name='ACCOUNTING', location='NEW YORK' Where DEPTNO=10;
Insert into DEPARTMENT(deptno, name, location) Select * From (values (20, 'RESEARCH', 'DALLAS'), (10, 'ACCOUNTING', 'NEW YORK')) as Q(deptno, name, location) Where not exists (Select * from DEPARTMENT T Where T.DEPTNO=Q.DEPTNO);
Update EMPLOYEE set name='KING', job='PRESIDENT', boss=7839, hiredate=timestamp '1981-11-17', salary=5000.00, comm=null, deptno=10 Where EMPNO=7839;
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, deptno) Select * From (values (7839, 'KING', 'PRESIDENT', 7839, timestamp '1981-11-17', 5000.00, 10)) as Q(empno, name, job, boss, hiredate, salary, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Update EMPLOYEE set name='JONES', job='MANAGER', boss=7839, hiredate=timestamp '1981-04-02', salary=2975.00, comm=null, deptno=20 Where EMPNO=7566;
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, deptno) Select * From (values (7566, 'JONES', 'MANAGER', 7839, timestamp '1981-04-02', 2975.00, 20)) as Q(empno, name, job, boss, hiredate, salary, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Update PROJECT_PARTICIPATION set end_date='2008-07-31', role_id=102 Where PROJECTNO=1003 and EMPNO=7566 and START_DATE='2007-02-24';
Insert into PROJECT_PARTICIPATION(projectno, empno, start_date, end_date, role_id) Select * From (values (1003, 7566, '2007-02-24', '2008-07-31', 102)) as Q(projectno, empno, start_date, end_date, role_id) Where not exists (Select * from PROJECT_PARTICIPATION T Where T.PROJECTNO=Q.PROJECTNO and T.EMPNO=Q.EMPNO and T.START_DATE=Q.START_DATE);
Update EMPLOYEE set name='SCOTT', job='ANALYST', boss=7566, hiredate=timestamp '1982-12-09', salary=3000.00, comm=null, deptno=20 Where EMPNO=7788;
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, deptno) Select * From (values (7788, 'SCOTT', 'ANALYST', 7566, timestamp '1982-12-09', 3000.00, 20)) as Q(empno, name, job, boss, hiredate, salary, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Update PROJECT_PARTICIPATION set end_date='2006-11-01', role_id=100 Where PROJECTNO=1001 and EMPNO=7788 and START_DATE='2006-05-15';
Insert into PROJECT_PARTICIPATION(projectno, empno, start_date, end_date, role_id) Select * From (values (1001, 7788, '2006-05-15', '2006-11-01', 100)) as Q(projectno, empno, start_date, end_date, role_id) Where not exists (Select * from PROJECT_PARTICIPATION T Where T.PROJECTNO=Q.PROJECTNO and T.EMPNO=Q.EMPNO and T.START_DATE=Q.START_DATE);
