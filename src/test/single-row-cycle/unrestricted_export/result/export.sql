-- generated by Jailer, Fri Apr 03 11:59:28 CEST 2009 from wisser@u19
-- 
-- Extraction Model:  EMPLOYEE where T.NAME='SCOTT' (/data/workspace/trunk/src/test/single-row-cycle/unrestricted_export/extractionmodel.csv)
-- Database URL:      jdbc:postgresql://localhost:5432/postgres
-- Database User:     postgres
-- Exported Rows:     43
--     DEPARTMENT                     3
--     EMPLOYEE                       14
--     SALARYGRADE                    5
--     PROJECT_PARTICIPATION          14
--     ROLE                           3
--     PROJECT                        4
-- 



Update SALARYGRADE set losal=700, hisal=1200 Where GRADE=1;
Update ROLE set description='Developer' Where ROLE_ID=100;
Update ROLE set description='Project manager' Where ROLE_ID=102;
Update SALARYGRADE set losal=1201, hisal=1400 Where GRADE=2;
Update ROLE set description='Researcher' Where ROLE_ID=101;
Update SALARYGRADE set losal=1401, hisal=2000 Where GRADE=3;
Insert into ROLE(role_id, description) Select * From (values (100, 'Developer'), (102, 'Project manager'), (101, 'Researcher')) as Q(role_id, description) Where not exists (Select * from ROLE T Where T.ROLE_ID=Q.ROLE_ID);
Update SALARYGRADE set losal=2001, hisal=3000 Where GRADE=4;
Update SALARYGRADE set losal=3001, hisal=9999 Where GRADE=5;
Insert into SALARYGRADE(grade, losal, hisal) Select * From (values (1, 700, 1200), (2, 1201, 1400), (3, 1401, 2000), (4, 2001, 3000), (5, 3001, 9999)) as Q(grade, losal, hisal) Where not exists (Select * from SALARYGRADE T Where T.GRADE=Q.GRADE);
Update PROJECT set description='Development of Novel Magnetic Suspension System', start_date='2006-01-01', end_date='2007-08-13' Where PROJECTNO=1001;
Update PROJECT set description='Research on thermofluid dynamics in Microdroplets', start_date='2006-08-22', end_date='2007-03-20' Where PROJECTNO=1002;
Update PROJECT set description='Foundation of Quantum Technology', start_date='2007-02-24', end_date='2008-07-31' Where PROJECTNO=1003;
Update PROJECT set description='High capacity optical network', start_date='2008-01-01', end_date=null Where PROJECTNO=1004;
Insert into PROJECT(projectno, description, start_date, end_date) Select * From (values (1001, 'Development of Novel Magnetic Suspension System', '2006-01-01', '2007-08-13'), (1002, 'Research on thermofluid dynamics in Microdroplets', '2006-08-22', '2007-03-20'), (1003, 'Foundation of Quantum Technology', '2007-02-24', '2008-07-31')) as Q(projectno, description, start_date, end_date) Where not exists (Select * from PROJECT T Where T.PROJECTNO=Q.PROJECTNO);
Insert into PROJECT(projectno, description, start_date) Select * From (values (1004, 'High capacity optical network', '2008-01-01')) as Q(projectno, description, start_date) Where not exists (Select * from PROJECT T Where T.PROJECTNO=Q.PROJECTNO);
Update DEPARTMENT set name='RESEARCH', location='DALLAS' Where DEPTNO=20;
Update DEPARTMENT set name='ACCOUNTING', location='NEW YORK' Where DEPTNO=10;
Update DEPARTMENT set name='SALES', location='CHICAGO' Where DEPTNO=30;
Insert into DEPARTMENT(deptno, name, location) Select * From (values (20, 'RESEARCH', 'DALLAS'), (10, 'ACCOUNTING', 'NEW YORK'), (30, 'SALES', 'CHICAGO')) as Q(deptno, name, location) Where not exists (Select * from DEPARTMENT T Where T.DEPTNO=Q.DEPTNO);
Update EMPLOYEE set name='KING', job='PRESIDENT', boss=7839, hiredate=timestamp '1981-11-17', salary=5000.00, comm=null, deptno=10 Where EMPNO=7839;
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, deptno) Select * From (values (7839, 'KING', 'PRESIDENT', 7839, timestamp '1981-11-17', 5000.00, 10)) as Q(empno, name, job, boss, hiredate, salary, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Update EMPLOYEE set name='JONES', job='MANAGER', boss=7839, hiredate=timestamp '1981-04-02', salary=2975.00, comm=null, deptno=20 Where EMPNO=7566;
Update EMPLOYEE set name='BLAKE', job='MANAGER', boss=7839, hiredate=timestamp '1981-05-01', salary=2850.00, comm=null, deptno=30 Where EMPNO=7698;
Update EMPLOYEE set name='CLARK', job='MANAGER', boss=7839, hiredate=timestamp '1981-06-09', salary=2450.00, comm=null, deptno=10 Where EMPNO=7782;
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, deptno) Select * From (values (7566, 'JONES', 'MANAGER', 7839, timestamp '1981-04-02', 2975.00, 20), (7698, 'BLAKE', 'MANAGER', 7839, timestamp '1981-05-01', 2850.00, 30), (7782, 'CLARK', 'MANAGER', 7839, timestamp '1981-06-09', 2450.00, 10)) as Q(empno, name, job, boss, hiredate, salary, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Update EMPLOYEE set name='ALLEN', job='SALESMAN', boss=7698, hiredate=timestamp '1981-02-20', salary=1600.00, comm=300.00, deptno=30 Where EMPNO=7499;
Update EMPLOYEE set name='WARD', job='SALESMAN', boss=7698, hiredate=timestamp '1981-02-22', salary=1250.00, comm=500.00, deptno=30 Where EMPNO=7521;
Update EMPLOYEE set name='MARTIN', job='SALESMAN', boss=7698, hiredate=timestamp '1981-09-28', salary=1250.00, comm=1400.00, deptno=30 Where EMPNO=7654;
Update EMPLOYEE set name='SCOTT', job='ANALYST', boss=7566, hiredate=timestamp '1982-12-09', salary=3000.00, comm=null, deptno=20 Where EMPNO=7788;
Update EMPLOYEE set name='TURNER', job='SALESMAN', boss=7698, hiredate=timestamp '1981-09-08', salary=1500.00, comm=0.00, deptno=30 Where EMPNO=7844;
Update EMPLOYEE set name='JAMES', job='CLERK', boss=7698, hiredate=timestamp '1981-12-03', salary=950.00, comm=null, deptno=30 Where EMPNO=7900;
Update EMPLOYEE set name='FORD', job='ANALYST', boss=7566, hiredate=timestamp '1981-12-03', salary=3000.00, comm=null, deptno=20 Where EMPNO=7902;
Update EMPLOYEE set name='MILLER', job='CLERK', boss=7782, hiredate=timestamp '1982-01-23', salary=1300.00, comm=null, deptno=10 Where EMPNO=7934;
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, deptno) Select * From (values (7788, 'SCOTT', 'ANALYST', 7566, timestamp '1982-12-09', 3000.00, 20), (7900, 'JAMES', 'CLERK', 7698, timestamp '1981-12-03', 950.00, 30), (7902, 'FORD', 'ANALYST', 7566, timestamp '1981-12-03', 3000.00, 20), (7934, 'MILLER', 'CLERK', 7782, timestamp '1982-01-23', 1300.00, 10)) as Q(empno, name, job, boss, hiredate, salary, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, comm, deptno) Select * From (values (7499, 'ALLEN', 'SALESMAN', 7698, timestamp '1981-02-20', 1600.00, 300.00, 30), (7521, 'WARD', 'SALESMAN', 7698, timestamp '1981-02-22', 1250.00, 500.00, 30), (7654, 'MARTIN', 'SALESMAN', 7698, timestamp '1981-09-28', 1250.00, 1400.00, 30), (7844, 'TURNER', 'SALESMAN', 7698, timestamp '1981-09-08', 1500.00, 0.00, 30)) as Q(empno, name, job, boss, hiredate, salary, comm, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Update PROJECT_PARTICIPATION set end_date='2007-03-20', role_id=101 Where PROJECTNO=1002 and EMPNO=7782 and START_DATE='2006-08-22';
Update PROJECT_PARTICIPATION set end_date='2008-07-31', role_id=102 Where PROJECTNO=1003 and EMPNO=7566 and START_DATE='2007-02-24';
Insert into PROJECT_PARTICIPATION(projectno, empno, start_date, end_date, role_id) Select * From (values (1002, 7782, '2006-08-22', '2007-03-20', 101), (1003, 7566, '2007-02-24', '2008-07-31', 102)) as Q(projectno, empno, start_date, end_date, role_id) Where not exists (Select * from PROJECT_PARTICIPATION T Where T.PROJECTNO=Q.PROJECTNO and T.EMPNO=Q.EMPNO and T.START_DATE=Q.START_DATE);
Update PROJECT_PARTICIPATION set end_date='2006-11-01', role_id=100 Where PROJECTNO=1001 and EMPNO=7788 and START_DATE='2006-05-15';
Update PROJECT_PARTICIPATION set end_date='2006-12-30', role_id=102 Where PROJECTNO=1001 and EMPNO=7902 and START_DATE='2006-01-01';
Update PROJECT_PARTICIPATION set end_date='2007-03-20', role_id=101 Where PROJECTNO=1002 and EMPNO=7934 and START_DATE='2007-01-01';
Update PROJECT_PARTICIPATION set end_date='2007-01-31', role_id=101 Where PROJECTNO=1003 and EMPNO=7900 and START_DATE='2007-02-24';
Update EMPLOYEE set name='SMITH', job='CLERK', boss=7902, hiredate=timestamp '1980-12-17', salary=800.00, comm=null, deptno=20 Where EMPNO=7369;
Update PROJECT_PARTICIPATION set end_date=null, role_id=102 Where PROJECTNO=1004 and EMPNO=7499 and START_DATE='2008-01-01';
Update EMPLOYEE set name='ADAMS', job='CLERK', boss=7788, hiredate=timestamp '1983-01-12', salary=1100.00, comm=null, deptno=20 Where EMPNO=7876;
Update PROJECT_PARTICIPATION set end_date=null, role_id=101 Where PROJECTNO=1004 and EMPNO=7521 and START_DATE='2008-05-01';
Insert into EMPLOYEE(empno, name, job, boss, hiredate, salary, deptno) Select * From (values (7369, 'SMITH', 'CLERK', 7902, timestamp '1980-12-17', 800.00, 20), (7876, 'ADAMS', 'CLERK', 7788, timestamp '1983-01-12', 1100.00, 20)) as Q(empno, name, job, boss, hiredate, salary, deptno) Where not exists (Select * from EMPLOYEE T Where T.EMPNO=Q.EMPNO);
Update PROJECT_PARTICIPATION set end_date=null, role_id=101 Where PROJECTNO=1004 and EMPNO=7654 and START_DATE='2008-04-15';
Update PROJECT_PARTICIPATION set end_date=null, role_id=101 Where PROJECTNO=1004 and EMPNO=7844 and START_DATE='2008-02-01';
Update PROJECT_PARTICIPATION set end_date='2008-04-01', role_id=101 Where PROJECTNO=1004 and EMPNO=7900 and START_DATE='2008-03-01';
Update PROJECT_PARTICIPATION set end_date=null, role_id=101 Where PROJECTNO=1004 and EMPNO=7900 and START_DATE='2008-05-20';
Insert into PROJECT_PARTICIPATION(projectno, empno, start_date, end_date, role_id) Select * From (values (1001, 7788, '2006-05-15', '2006-11-01', 100), (1001, 7902, '2006-01-01', '2006-12-30', 102), (1002, 7934, '2007-01-01', '2007-03-20', 101), (1003, 7900, '2007-02-24', '2007-01-31', 101), (1004, 7900, '2008-03-01', '2008-04-01', 101)) as Q(projectno, empno, start_date, end_date, role_id) Where not exists (Select * from PROJECT_PARTICIPATION T Where T.PROJECTNO=Q.PROJECTNO and T.EMPNO=Q.EMPNO and T.START_DATE=Q.START_DATE);
Insert into PROJECT_PARTICIPATION(projectno, empno, start_date, role_id) Select * From (values (1004, 7499, '2008-01-01', 102), (1004, 7521, '2008-05-01', 101), (1004, 7654, '2008-04-15', 101), (1004, 7844, '2008-02-01', 101), (1004, 7900, '2008-05-20', 101)) as Q(projectno, empno, start_date, role_id) Where not exists (Select * from PROJECT_PARTICIPATION T Where T.PROJECTNO=Q.PROJECTNO and T.EMPNO=Q.EMPNO and T.START_DATE=Q.START_DATE);
Update PROJECT_PARTICIPATION set end_date='2007-08-13', role_id=100 Where PROJECTNO=1001 and EMPNO=7369 and START_DATE='2006-01-01';
Update PROJECT_PARTICIPATION set end_date='2007-03-20', role_id=102 Where PROJECTNO=1002 and EMPNO=7876 and START_DATE='2006-08-22';
Insert into PROJECT_PARTICIPATION(projectno, empno, start_date, end_date, role_id) Select * From (values (1001, 7369, '2006-01-01', '2007-08-13', 100), (1002, 7876, '2006-08-22', '2007-03-20', 102)) as Q(projectno, empno, start_date, end_date, role_id) Where not exists (Select * from PROJECT_PARTICIPATION T Where T.PROJECTNO=Q.PROJECTNO and T.EMPNO=Q.EMPNO and T.START_DATE=Q.START_DATE);
