<?xml version="1.0" encoding="iso-8859-1"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:lang="http://www.springframework.org/schema/lang"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang-2.0.xsd
http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd">
	
	<!-- Script-enhancer 
	adds application specific extensions to generated SQL-scripts -->
	<util:list id="script-enhancer">
		<!--
		Inserts the content of the files
		  - prolog/[INSERT|DELETE]/<TABLE>.sql
		  - epilog/[INSERT|DELETE]/<TABLE>.sql
		at top/bottom of the generated script for each table <TABLE>
		for which at least one row is inserted/deleted.
		-->
		<bean class="net.sf.jailer.enhancer.FileBasedScriptEnhancer"/>
	</util:list>
	
	<!-- Model-finder 
	reads table- and association definitions from meta-data sources -->
	<util:list id="model-finder">
		<!--
		<bean class="net.sf.jailer.modelbuilder.DBMetaDataBasedModelElementFinder">
			<constructor-arg value="script/db2/selectTables.sql"/>
			<constructor-arg value="script/db2/selectAssociations.sql"/>
		</bean>
		-->
		<bean class="net.sf.jailer.modelbuilder.JDBCMetaDataBasedModelElementFinder"/>
	</util:list>

	<bean name="renderer" class="net.sf.jailer.render.HtmlDataModelRenderer">
		<constructor-arg value="render"/>
		<constructor-arg value="1"/>
	</bean>
		
	<!-- Statistic-renovator
		 keeps the DB table statistics for the working-tables up-to-date.
		 Optional but recommended.
	-->
	<util:list id="statistic-renovator">
		<!-- for IBM DB2 -->
		<bean class="net.sf.jailer.database.DB2ShellScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:db2.*"/>
			<constructor-arg value="sh script/db2/runstats.sh"/>
		</bean>
	
		<!-- for Oracle -->
		<bean name="statistic-renovator" class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:oracle.*"/>
			<constructor-arg value="script/oracle/gatherStatistics.sql"/>
		</bean>

		<!-- for PostgreSQL -->
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:postgres.*"/>
			<constructor-arg value="script/postgres/update_statistics.sql"/>
		</bean>

		<!-- for Cloudscape -->
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:cloudscape.*"/>
			<constructor-arg value="script/cloudscape/update_statistics.sql"/>
		</bean>

		<!-- for Firebird -->
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:firebirdsql.*"/>
			<constructor-arg value="script/firebird/update_statistics.sql"/>
		</bean>

		<!-- for MS SQL -->
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:weblogic:mssqlserver.*"/>
			<constructor-arg value="script/mssql/update_statistics.sql"/>
		</bean>
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:JTurbo.*"/>
			<constructor-arg value="script/mssql/update_statistics.sql"/>
		</bean>
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:inetdae.*"/>
			<constructor-arg value="script/mssql/update_statistics.sql"/>
		</bean>

		<!-- for MySQL -->
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:mysql.*"/>
			<constructor-arg value="script/mysql/update_statistics.sql"/>
		</bean>

		<!-- for Derby -->
		<bean class="net.sf.jailer.database.SqlScriptBasedStatisticRenovator">
			<constructor-arg value="jdbc:derby.*"/>
			<constructor-arg value="script/derby/update_statistics.sql"/>
		</bean>
	</util:list>
</beans>
